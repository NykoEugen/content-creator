# Оновлення: Підтримка швидкості мовлення для TTS

## Виконані зміни

### 1. Оновлено config.py
- ✅ Додано змінну `OPENAI_TTS_SPEED` (за замовчуванням: 1.0)
- ✅ Діапазон значень: 0.25 - 4.0

### 2. Оновлено openai_tts_service.py
- ✅ Додано параметр `speed` до всіх методів генерації
- ✅ Валідація швидкості мовлення (0.25 - 4.0)
- ✅ Нові методи:
  - `validate_speed()` - перевірка валідності швидкості
  - `get_speed_range()` - отримання діапазону швидкостей
- ✅ Оновлено методи:
  - `generate_speech()` - додано параметр speed
  - `generate_speech_to_file()` - додано параметр speed
  - `generate_speech_with_validation()` - додано валідацію швидкості

### 3. Оновлено bot.py
- ✅ Покращено команду `/tts` з підтримкою параметрів
- ✅ Додано команду `/tts_settings` для показу налаштувань
- ✅ Оновлено списки команд у `/start`, `/help` та `/info`
- ✅ Збільшено кількість OpenAI команд до 9

## Нові можливості команди /tts

### Синтаксис:
```
/tts текст | голос | швидкість
```

### Приклади використання:

1. **Звичайна озвучка:**
   ```
   /tts Привіт, як справи?
   ```

2. **З налаштуванням швидкості:**
   ```
   /tts Привіт, як справи? | 1.5
   ```

3. **З голосом та швидкістю:**
   ```
   /tts Привіт, як справи? | alloy | 1.5
   ```

4. **Тільки з голосом:**
   ```
   /tts Привіт, як справи? | nova
   ```

### Нова команда /tts_settings
Показує:
- Поточні налаштування (голос, швидкість)
- Доступні голоси
- Діапазон швидкостей
- Приклади використання

## Параметри налаштування

### Голоси (voices):
- `alloy` - нейтральний, збалансований
- `echo` - чоловічий, теплий
- `fable` - британський акцент
- `onyx` - глибокий, авторитетний
- `nova` - молодий, енергійний
- `shimmer` - жіночий, м'який

### Швидкість (speed):
- `0.25` - дуже повільно
- `0.5` - повільно
- `0.8` - трохи повільно
- `1.0` - нормальна швидкість (за замовчуванням)
- `1.2` - трохи швидше
- `1.5` - швидше
- `2.0` - дуже швидко
- `4.0` - максимальна швидкість

## Конфігурація (.env)

```env
# Існуючі змінні
OPENAI_TTS_MODEL=tts-1
OPENAI_TTS_VOICE=alloy

# Нова змінна
OPENAI_TTS_SPEED=1.0
```

## Переваги оновлення

1. **Гнучкість** - можна налаштовувати швидкість для різних ситуацій
2. **Зручність** - всі параметри в одній команді
3. **Валідація** - перевірка коректності параметрів
4. **Документація** - команда `/tts_settings` з прикладами
5. **Зворотна сумісність** - старий синтаксис продовжує працювати

## Технічні деталі

- Швидкість передається безпосередньо в OpenAI API
- Валідація відбувається як на рівні сервісу, так і на рівні бота
- Помилки обробляються з зрозумілими повідомленнями
- Логування включає всі параметри для діагностики
